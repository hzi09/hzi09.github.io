---
title:  "[TIL] ë‚´ì¼ë°°ì›€ìº í”„ 64ì¼ì°¨_[Docker] Docker ì‚¬ìš©í•´ë³´ê¸°" 

categories: 
    - TIL
tags: 
    - TIL
    - ë‚´ì¼ë°°ì›€ìº í”„
    - Docker


toc: True
toc_sticky: True
---

![TIL](/assets/images/TIL2.png){: .align-center style="width:35%;"}

# ğŸ‘€Today I Learn
## ê°€ìƒí™” ë¨¸ì‹  vs Docker

### ê°€ìƒí™” ë¨¸ì‹ 

- ë‚´ ì»´í“¨í„°ì— í™˜ê²½ì„ ì„¤ì¹˜
  - ex. VMware, VirtualBox
- ë¬´ê²ê³  ëŠë¦¼, ì˜¤ë¥˜ ë§ìŒ

### Docker

![Image](https://github.com/user-attachments/assets/f3dbbdc6-b67c-431d-a1e3-57d0b035211c)

- osëŠ” ë‚´ê²ƒì„ ê³µìœ í•¨(ì»¤ë„ë§Œ ê³µìœ )
    - ì»¤ë„? í•˜ë“œì›¨ì–´ì™€ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì—°ê²°í•´ì£¼ëŠ” ë‹¤ë¦¬ ì—­í• 
- ë‹¤ë¥¸ osì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì£¼ëŠ” ë„êµ¬
- ê°„ë‹¨í•˜ê²Œ ì—¬ëŸ¬ í”Œë ›í¼ì— ê³µìœ  ê°€ëŠ¥
- ë‹¨ì  : ë„ì»¤ë¥¼ ê³µë¶€í•´ì•¼í•¨
- Docker file ì‘ì„±(ì½”ë“œ : ëª…ë ¹ì´ ë“¤ì–´ìˆëŠ” ì„¤ê³„ë„) â†’ image ë¹Œë“œ â†’ container ì‹¤í–‰
    - image ë¹Œë“œ : íŒŒì´ì¬ í´ë˜ìŠ¤
    - container ì‹¤í–‰ : íŒŒì´ì¬ ê°ì²´ì˜ ëŠë‚Œ

<br>

### Docker file

- Docker fileì€ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì‹¤í–‰
    
    ```dockerfile
    # 1. ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì„ íƒ
    FROM python:3.10-slim # Layer 1
    
    # 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
    # cdë¼ê³  ìƒê° í•˜ë©´ ë¨
    WORKDIR /app # Layer 2
    
    # 3. ì˜ì¡´ì„± íŒŒì¼ ë³µì‚¬ ë° ì„¤ì¹˜
    COPY requirements.txt /app/ # Layer 3
    RUN pip install --no-cache-dir -r requirements.txt # Layer 4
    	
    # 4. ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ ë³µì‚¬
    COPY ./app # Layer 5
    
    # 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ëª…ë ¹ì–´
    CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"] # Layer 6
    ```
    
    - í•œì¤„ì”©ì„ `Layer`ë¼ê³  í•˜ë©° 1ë¶€í„° í•˜ë‚˜ì”© ì˜¬ë¼ê°(Layer 0 : base image)

### ì´ë¯¸ì§€ ë¹Œë“œ

```bash
docker build -t [ì´ë¯¸ì§€ì´ë¦„]:[íƒœê·¸] [Docker file ê²½ë¡œ]
```

- ë¹Œë“œ ê³¼ì •
    1. Dockerfile ì½ê¸° : ì‘ì„±ëœ Dockerfileì„ ê¸°ë°˜ìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰
    2. ë² ì´ìŠ¤ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ : ì •ì˜ëœ FROM ì´ë¯¸ì§€ê°€ ë¡œì»¬ì— ì—†ìœ¼ë©´ ë„ì»¤ í—ˆë¸Œì—ì„œ ë‹¤ìš´ë¡œë“œ
    3. ëª…ë ¹ì–´ ì‹¤í–‰ : Dockerfileì˜ ê° ëª…ë ¹ì–´ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰
    4. ë ˆì´ì–´ ìºì‹± : ì´ì „ì— ì‹¤í–‰ëœ ë‹¨ê³„ê°€ ë³€ê²½ë˜ì§€ ì•Šì•˜ë”°ë©´ í•´ë‹¹ ë‹¨ê³„ë¥¼ ìºì‹œì—ì„œ ê°€ì ¸ì˜´
    5. ì´ë¯¸ì§€ ìƒì„± : ìµœì¢…ì ìœ¼ë¡œ ì™„ì„±ëœ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±

### Container ì‹¤í–‰

- docker images â†’ ë„ì»¤ ì´ë¯¸ì§€ í™•ì¸
    

```bash
docker run [ì˜µì…˜] [ì´ë¯¸ì§€ ì´ë¦„]:[íƒœê·¸]
```

### ì‹¤ìŠµ

1. ì‘ì—… í´ë” ìƒì„± ë° ê°€ìƒí™˜ê²½ì„¤ì¹˜ 
    
    ```bash
    python -m venv docker_env
    ```
    
2. ì¥ê³  ì„¤ì¹˜í•˜ê¸°(ê°œë°œì´ ëë‹¤ê³  ê°€ì •)
    
    ```bash
    pip install django
    ```
    
    - í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°
        
        ```bash
        django-admin startproject myapp
        ```
        
    - ì˜ì¡´ì„± íŒŒì¼
        
        ```bash
        pip freeze > requirements.txt
        ```
        
    
3. Docker 
    - ì¥ê³ ì™€ ê°™ì€ ë£¨íŠ¸ ì•ˆì— Dockerfile ë§Œë“¤ê¸°
        
        ```dockerfile
        # ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì„ íƒ
        FROM python:3.9-slim
        
        # ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
        WORKDIR /myapp
        
        # íŒŒì¼ ë³µì‚¬ ë° ì„¤ì¹˜
        COPY requirements.txt /myapp/
        RUN pip install --no-cache-dir -r requirements.txt
        
        # ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ ë³µì‚¬
        COPY . /myapp
        
        # ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ëª…ë ¹ì–´
        CMD [ "python", 'manage.py', 'runserver', '0.0.0.8000' ]
        ```
        
    - ì‹¤í–‰í•´ë³´ì
        
        ```bash
        docker build -t my-django-app .
        ```
        
        ![Image](https://github.com/user-attachments/assets/2c89855e-f5f4-4035-9be6-7d616796d59e)
        
        - Docker Desktopì´ ì•ˆì—´ë ¤ì„œ ìƒê¸°ëŠ” ì˜¤ë¥˜! ì‹¤í–‰í•˜ë©´ ì˜ ë˜ì–´ìš©
  
    - ì°¸ê³  : ë¦¬ëˆ…ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê²ƒë“¤ì„ ì—…ë°ì´íŠ¸í•˜ë©´ì„œ ì •ë¦¬í•´ì£¼ê¸°
        
        ```dockerfile
        RUN apt-get update && apt-get install -y --no-install-recommends \
            gcc \ 
            build-essential \ 
            libffi-dev \ 
            libssl-dev \ 
            zlib1g-dev \ 
            python3-dev \ 
            && rm -rf /var/lib/apt/lists/*
        ```
        
4. ì´ë¯¸ì§€ ì˜ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°
    
    ```bash
    docker images
    ```
    
    ![Image](https://github.com/user-attachments/assets/68d66435-ffe7-4b2e-8f41-264fa641f3cb)
    
    ![Image](https://github.com/user-attachments/assets/153b2b7f-60f1-4871-acb7-f45e99433076)

<br>
<br>

# ğŸ’¡Today I Thought

## ì˜¤ëŠ˜ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [x] ì•Œê³ ë¦¬ì¦˜ ì½”ë“œì¹´íƒ€ 281-285
- [x] SQL ì½”ë“œì¹´íƒ€ 95-96
- [x] LLM í•„ìˆ˜ê³¼ì œ
- [x] Docker íŠ¹ê°• 1 ë‚´ìš© ì •ë¦¬ ë° ë³µìŠµ
- [x] TIL ì‘ì„±

## íšŒê³ 
&nbsp; ì˜¤ëŠ˜ë„ ì•¼ë¬´ì§€ê²Œ ë§ˆë¬´ë¦¬~ ì˜¤ì „ë¶€í„° ì¼ì° ì¼ì–´ë‚˜ì„œ í•œ ë³´ëŒì´ ìˆë‹¤! ìš”ì¦˜ ì½”ë“œì¹´íƒ€ê°€ ì–´ë ¤ì›Œì„œ ì‹œê°„ì´ ë„ˆë¬´ ë§ì´ ì“°ì—¬ì„œ í•˜ë£¨ì— ë‘ì„¸ê°œë¡œ ì¤„ì—¬ì•¼í• ê¹Œì‹¶ë‹¤ğŸ˜«.. ì ì  ì–´ë ¤ì›Œì§€ëŠ” ì½”ë“œì¹´íƒ€ ì´ëŒ€ë¡œ ê´œì°®ì€ê°€. SQLì€ ì–´ë ¤ì› ë‹¤ ì‰¬ì› ë‹¤ í•´ì„œ ê°ˆí”¼ë¥¼ ëª»ì¡ê² ë‹¤. ê·¸ë˜ì„œ ì¼ë‹¨ 1ë¬¸ì œë¡œ ì •í•´ë‘ê³  ë„ˆë¬´ ì‰¬ìš°ë©´ í•œë¬¸ì œ ë” í‘¸ëŠ” í˜•ì‹ìœ¼ë¡œ ì§„í–‰ì¤‘! ë‚´ì¼ì€ LLM ë„ì „ê³¼ì œê¹Œì§€ ëë‚´ì•¼ì§€!