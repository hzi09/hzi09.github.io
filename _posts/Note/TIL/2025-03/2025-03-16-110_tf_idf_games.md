---
title:  "[TIL] ë‚´ì¼ë°°ì›€ìº í”„ 110ì¼ì°¨_[ML] TF-IDFì™€ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ í™œìš©í•œ ê°„ë‹¨í•œ ê²Œì„ ì¶”ì²œ ì‹œìŠ¤í…œ êµ¬í˜„" 

categories: 
    - TIL
tags: 
    - TIL
    - ë‚´ì¼ë°°ì›€ìº í”„


toc: True
toc_sticky: True
---

![TIL](/assets/images/TIL2.png){: .align-center style="width:35%;"}

# ğŸ‘€Today I Learn
- ê²Œì„ì„ ì¶”ì²œí•˜ëŠ” ë°©ì‹ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆì§€ë§Œ, ê·¸ì¤‘ì—ì„œë„ ì½˜í…ì¸  ê¸°ë°˜ í•„í„°ë§(Content-Based Filtering) ì€ ì‚¬ìš©ìê°€ ì¢‹ì•„í•˜ëŠ” ê²Œì„ì˜ íŠ¹ì§•ì„ ë¶„ì„í•˜ì—¬ ìœ ì‚¬í•œ ê²Œì„ì„ ì¶”ì²œí•˜ëŠ” ë°©ì‹
- ì´ ê¸€ì—ì„œëŠ” TF-IDF(Term Frequency-Inverse Document Frequency)ì™€ ì½”ì‚¬ì¸ ìœ ì‚¬ë„(Cosine Similarity) ë¥¼ í™œìš©í•˜ì—¬ ê°„ë‹¨í•œ ê²Œì„ ì¶”ì²œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•´ë³¼ ì˜ˆì •ğŸ¤”

- ì¶”ì²œ ì‹œìŠ¤í…œì„ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©í•  ì£¼ìš” ê¸°ìˆ 
  - TF-IDF ë²¡í„°í™”: ê²Œì„ ì„¤ëª…(description) ë°ì´í„°ë¥¼ ìˆ˜ì¹˜í™”í•˜ì—¬ ë²¡í„°ë¡œ ë³€í™˜
  - ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê³„ì‚°: ë³€í™˜ëœ ë²¡í„° ê°„ ìœ ì‚¬ë„ë¥¼ ì¸¡ì •í•˜ì—¬ ì¶”ì²œ

<br>

## ë°ì´í„° ì¤€ë¹„
- Steamì—ì„œ ì‹¤ì œë¡œ ë‚´ê°€ ì•„ëŠ” ê²Œì„ì˜ ë°ì´í„° ì¼ë¶€ë¥¼ ì˜ˆì œë¡œ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„
- pandas ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°í”„ë ˆì„ì„ ë§Œë“¤ê³  ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜´

    ```python
    import pandas as pd

    def load_data():
        data = {
            'game_id': [1, 2, 3, 4, 5, 6, 7, 8],
            'title': ["Grand Theft Auto V Enhanced",
                    "Don't Starve Together",
                    "Stardew Valley",
                    "Sons Of The Forest",
                    "PUBG: BATTLEGROUNDS",
                    "Green Hell",
                    "Grounded",
                    "Detroit: Become Human"],
            'description': [
                "Experience entertainment blockbusters Grand Theft Auto V and Grand Theft Auto Online...",
                "Fight, Farm, Build and Explore Together in the standalone multiplayer expansion...",
                "You've inherited your grandfather's old farm plot in Stardew Valley...",
                "Sent to find a missing billionaire on a remote island, you find yourself in a cannibal-infested hellscape...",
                "Play PUBG: BATTLEGROUNDS for free. Land on strategic locations, loot weapons and supplies...",
                "Plunge into the open-world survival simulation set in the extreme conditions of the uncharted Amazon jungle...",
                "The world is a vast, beautiful and dangerous place â€“ especially when you have been shrunk to the size of an ant...",
                "Detroit: Become Human puts the destiny of both mankind and androids in your hands..."
            ]
        }
        return pd.DataFrame(data)

    # ë°ì´í„° ë¡œë“œ
    df = load_data()
    df.head()
    ```

- ê²°ê³¼

    |   	| game_id 	|                       title 	|                                       description 	|
    |--:	|--------:	|----------------------------:	|--------------------------------------------------:	|
    | 0 	|       1 	| Grand Theft Auto V Enhanced 	| Experience entertainment blockbusters Grand Th... 	|
    | 1 	|       2 	|       Don't Starve Together 	| Fight, Farm, Build and Explore Together in the... 	|
    | 2 	|       3 	|              Stardew Valley 	| You've inherited your grandfather's old farm p... 	|
    | 3 	|       4 	|          Sons Of The Forest 	| Sent to find a missing billionaire on a remote... 	|
    | 4 	|       5 	|         PUBG: BATTLEGROUNDS 	| Play PUBG: BATTLEGROUNDS for free. Land on str... 	|
    | 5 	|       6 	|                  Green Hell 	| Plunge into the open-world survival simulation... 	|
    | 6 	|       7 	|                    Grounded 	| The world is a vast, beautiful and dangerous p... 	|
    | 7 	|       8 	|       Detroit: Become Human 	| Detroit: Become Human puts the destiny of both... 	|

<br>

## TF-IDF ë²¡í„°í™” ë° ìœ ì‚¬ë„ ê³„ì‚°

- `TfidfVectorizer`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²Œì„ì˜ ì„¤ëª…ì„ ë²¡í„°ë¡œ ë³€í™˜
- `cosine_similarity`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²Œì„ ê°„ì˜ ìœ ì‚¬ë„ë¥¼ ê³„ì‚°

    ```python
    from sklearn.feature_extraction.text import TfidfVectorizer
    from sklearn.metrics.pairwise import cosine_similarity

    def build_recommendation_system(df):
        vectorizer = TfidfVectorizer(stop_words='english')
        tfidf_matrix = vectorizer.fit_transform(df['description'])
        cosine_sim = cosine_similarity(tfidf_matrix, tfidf_matrix)
        return cosine_sim

    # ìœ ì‚¬ë„ í–‰ë ¬ ìƒì„±
    cosine_sim = build_recommendation_system(df)

    cosine_sim
    ```

- ê²°ê³¼

    ```
    array([[1.        , 0.        , 0.        , 0.        , 0.        , 1.        , 0.        , 0.        ],
           [0.        , 1.        , 0.09775574, 0.        , 0.        , 2.        , 0.        , 0.        ],
           [0.        , 0.09775574, 1.        , 0.        , 0.        , 3.        , 0.        , 0.        ],
           [0.        , 0.        , 0.        , 1.        , 0.        , 4.        , 0.        , 0.        ],
           [0.        , 0.        , 0.        , 0.        , 1.        , 5.        , 0.        , 0.        ],
           [0.        , 0.        , 0.        , 0.        , 0.        , 6.        , 0.07277965, 0.        ],
           [0.        , 0.        , 0.        , 0.        , 0.        , 0.07277965, 1.        , 0.        ],
           [0.        , 0.        , 0.        , 0.        , 0.        , 7.        , 0.        , 1.        ]])
    ```


<br>

## ì¶”ì²œ ì‹œìŠ¤í…œ êµ¬í˜„
- íŠ¹ì • ê²Œì„ì„ ê¸°ì¤€ìœ¼ë¡œ ìœ ì‚¬ë„ê°€ ë†’ì€ ê²Œì„ì„ ì¶”ì²œí•˜ëŠ” í•¨ìˆ˜ ì‘ì„±

    ```python
    def get_recommendations(title, df, cosine_sim):
        # ê²Œì„ ì œëª©ì„ ì¸ë±ìŠ¤ë¡œ ë³€í™˜
        indices = pd.Series(df.index, index=df['title']).drop_duplicates()
        idx = indices[title]
        
        # í•´ë‹¹ ê²Œì„ê³¼ì˜ ìœ ì‚¬ë„ ì ìˆ˜ ê°€ì ¸ì˜¤ê¸°
        sim_scores = list(enumerate(cosine_sim[idx]))
        sim_scores = sorted(sim_scores, key=lambda x: x[1], reverse=True)[1:4]  # ìƒìœ„ 3ê°œ ì¶”ì²œ
        
        # ì¶”ì²œ ê²Œì„ ë°˜í™˜
        game_indices = [i[0] for i in sim_scores]
        return df['title'].iloc[game_indices].tolist()
    ```

<br>

## ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸
- íŠ¹ì • ê²Œì„ì„ ì…ë ¥í•˜ë©´, ìœ ì‚¬í•œ ê²Œì„ì„ ì¶”ì²œë°›ì„ ìˆ˜ ìˆìŒ : ì˜ˆì œë¡œ `Green Hell`ì„ ì…ë ¥

    ```python
    game_title = "Green Hell"
    recommendations = get_recommendations(game_title, df, cosine_sim)
    print(f"'{game_title}'ê³¼ ìœ ì‚¬í•œ ê²Œì„ : {recommendations}")
    ```

- ê²°ê³¼

    ```
    'Green Hell'ê³¼ ìœ ì‚¬í•œ ê²Œì„ : ['Grounded', 'Grand Theft Auto V Enhanced', "Don't Starve Together"]
    ```

### ìƒê°í•´ë³´ê¸°ğŸ¤”
- Green Hellì´ ì •ê¸€ê¸°ë°˜ ê²Œì„ì´ë¼ì„œ ì§‘ ì• ì •ì›ì´ ë¬´ëŒ€ì¸ Groundedê°€ ê°€ì¥ ë†’ê²Œ ë‚˜ì˜¬ ê²ƒì€ ì•Œê³  ìˆì—ˆëŠ”ë°, GTAê°€ ë†’ê²Œ ë‚˜ì˜¨ ê±´ ì˜ì™¸..
  - ì•„ë§ˆ ì œëª©ê³¼ ì„¤ëª…ì„ ê¸°ì¤€ìœ¼ë¡œ í•´ì„œ ê·¸ë ‡ì§€ ì•Šì„ê¹Œ..
  - ê²Œì„ ì„¤ëª…ë¿ë§Œ ì•„ë‹ˆë¼, ê²Œì„ì˜ íƒœê·¸ë¥¼ í™œìš©í•˜ì—¬ ì¶”ì²œì„ ì •êµí™”í•  í•„ìš”ê°€ ìˆë‹¤.
- ì‹¤ì œ ìš°ë¦¬ ì„œë¹„ìŠ¤ëŠ” pgvectorë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë‹ˆ ê±°ê¸°ì—ì„œ ë°ì´í„°ë¥¼ ë½‘ì•„ì˜¬ ìˆ˜ ìˆê²Œ ì„¤ì •í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.


<br>
<br>

# ğŸ’¡Today I Thought

## ì˜¤ëŠ˜ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [x] ì•Œê³ ë¦¬ì¦˜ ì½”ë“œì¹´íƒ€ 1ë¬¸ì œ
- [x] SQL ì½”ë“œì¹´íƒ€ 1ë¬¸ì œ
- [x] Steam ë¡œê·¸ì¸/íšŒì›ê°€ì… API ì—°ë™
- [x] TF-IDFì™€ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ í™œìš©í•œ ê°„ë‹¨í•œ ê²Œì„ ì¶”ì²œ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°
- [x] TIL ì‘ì„±   

## íšŒê³ 
&nbsp;ì˜¤ëŠ˜ë„ ì•Œì°¬ í•˜ë£¨.. ìƒê°ë³´ë‹¤ í”„ë¡ íŠ¸ì—”ë“œê°€ ë¹¨ë¦¬ ì§„í–‰ë˜ê³  ìˆì–´ì„œ ë§ˆìŒì´ í•œê²° í¸í•´ì¡Œë‹¤. ë‚´ì¼ ì˜¤ì „ì— ë§ˆì´í˜ì´ì§€ ìˆ˜ì •í•˜ë©´ ì¼ë‹¨ í”„ë¡ íŠ¸ ë©ˆì¶”ê³  MLì„ êµ¬í˜„í•  ìˆ˜ ìˆì„ê²ƒ ê°™ë‹¤.