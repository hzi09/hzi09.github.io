---
title:  "[LeetCode][MySQL] 3465. Find Products with Valid Serial Numbers" 

categories: 
    - MySQL_LeetCode
tags: 
    - LeetCode
    - MySQL
    - Easy

toc: True
toc_sticky: True
---
![Image](https://github.com/user-attachments/assets/4b8e7f3a-d568-4d5b-a8a9-c3d4b23975f6){: .align-center style="width:50%;"}

**Easy**
[ğŸ”—3465. Find Products with Valid Serial Numbers](https://leetcode.com/problems/find-products-with-valid-serial-numbers/)

# ğŸ“ë¬¸ì œ ìš”ì•½
Table:Â `products`

```
+--------------+------------+
| Column Name  | Type       |
+--------------+------------+
| product_id   | int        |
| product_name | varchar    |
| description  | varchar    |
+--------------+------------+
(product_id) is the unique key for this table.
Each row in the table represents a product with its unique ID, name, and description.
```

Write a solution to find all products whose descriptionÂ **contains a valid serial number**Â pattern. A valid serial number follows these rules:

- It starts with the lettersÂ **SN**Â (case-sensitive).
- Followed by exactlyÂ `4`Â digits.
- It must have a hyphen (-)Â **followed by exactly**Â `4`Â digits.
- The serial number must be within the description (it may not necessarily start at the beginning).

ReturnÂ *the result tableÂ ordered by*Â `product_id`Â *inÂ **ascending**Â order*.

The result format is in the following example.

**Example:**

**Input:**

products table:

```
+------------+--------------+------------------------------------------------------+
| product_id | product_name | description                                          |
+------------+--------------+------------------------------------------------------+
| 1          | Widget A     | This is a sample product with SN1234-5678            |
| 2          | Widget B     | A product with serial SN9876-1234 in the description |
| 3          | Widget C     | Product SN1234-56789 is available now                |
| 4          | Widget D     | No serial number here                                |
| 5          | Widget E     | Check out SN4321-8765 in this description            |
+------------+--------------+------------------------------------------------------+
```

**Output:**

```
+------------+--------------+------------------------------------------------------+
| product_id | product_name | description                                          |
+------------+--------------+------------------------------------------------------+
| 1          | Widget A     | This is a sample product with SN1234-5678            |
| 2          | Widget B     | A product with serial SN9876-1234 in the description |
| 5          | Widget E     | Check out SN4321-8765 in this description            |
+------------+--------------+------------------------------------------------------+
```

**Explanation:**

- **Product 1:**Â Valid serial number SN1234-5678
- **Product 2:**Â Valid serial number SN9876-1234
- **Product 3:**Â Invalid serial number SN1234-56789 (contains 5 digits after the hyphen)
- **Product 4:**Â No serial number in the description
- **Product 5:**Â Valid serial number SN4321-8765

The result table is ordered by product_id in ascending order.


<br>

# âœï¸ë¬¸ì œ í’€ì´
## SELECT

```sql
SELECT *
```

- ëª¨ë“  ì»¬ëŸ¼(`product_id`, `product_name`, `description`)ì„ ì¶œë ¥

## FROM

```sql
FROM products
```

- `products` í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´

## WHERE

```sql
WHERE description REGEXP '(^|[^A-Za-z0-9])SN[0-9]{4}-[0-9]{4}([^0-9]|$)'
```

- ì •ê·œì‹ì„ ì‚¬ìš©
    - `(^|[^A-Za-z0-9])`  : ë¬¸ìì—´ ì‹œì‘ ê²€ì‚¬(ì‹œë¦¬ì–¼ ë²ˆí˜¸ ì•ì— ì•„ë¬´ê²ƒë„ ì—†ê±°ë‚˜, íŠ¹ìˆ˜ë¬¸ìë‚˜ ê³µë°±ì´ ìˆì–´ì•¼ í•¨)
        - `^` : ë¬¸ìì—´ì˜ ì‹œì‘
        - `[^A-Za-z0-9]` : ì•ŒíŒŒë²³(A-Z, a-z)ì´ë‚˜ ìˆ«ì(0-9)ê°€ ì•„ë‹Œ ë¬¸ì
    - `SN` : ì •í™•íˆ ëŒ€ë¬¸ì Sì™€ Nì´ ì—°ì†ë˜ì–´ ìˆì–´ì•¼ í•¨ (ì†Œë¬¸ì ì•ˆë¨)
    - `[0-9]{4}` : SN ë‹¤ìŒì—ëŠ” ì •í™•íˆ ìˆ«ì 4ìë¦¬ê°€ ìˆì–´ì•¼ í•¨
    - `-` : í•˜ì´í”ˆ `-`ì´ ë°˜ë“œì‹œ ìˆì–´ì•¼ í•¨
    - `[0-9]{4}` :  í•˜ì´í”ˆ ë’¤ì—ë„ ì •í™•íˆ ìˆ«ì 4ìë¦¬ê°€ ìˆì–´ì•¼ í•¨
    - `([^0-9]|$)` : ë¬¸ìì—´ ë ê²€ì‚¬(ì‹œë¦¬ì–¼ ë²ˆí˜¸ê°€ ëë‚¬ì„ ë•Œ, ê·¸ ë’¤ì—ëŠ” ìˆ«ìê°€ ì˜¤ë©´ ì•ˆë¨)
        - `[^0-9]` : ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ì
        - `$` : ë¬¸ìì—´ì˜ ë

## ORDER BY

```sql
ORDER BY 1
```

- 1ë²ˆ ì»¬ëŸ¼(`product_id` )ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬

<br>

# ğŸ’¯ì œì¶œ ì½”ë“œ
```sql
SELECT *
FROM products
WHERE description REGEXP '(^|[^A-Za-z0-9])SN[0-9]{4}-[0-9]{4}([^0-9]|$)'
ORDER BY 1
```